---
title: 2.Linux如何学习、主机规划与磁盘分区
date: 2020-07-08 08:53:05
tags: linux
categories: Linux-鸟哥私房菜
abbrlink: '927108rt'
---

# Linux操作模式
	
* 图形界面
* 命令行界面（Command Line）

# Linux与硬件的搭配

* 各个组件或设备在Linux下面都是一个文件
	* 硬盘 /dev/sd[a-p]

# 磁盘分区

* SATA/USB接口的磁盘根本没有一定的顺序
	* 设备文件名命名时，根据Linux内核检测到磁盘的顺序命名

* 磁盘的组成
	* 磁盘的第一个扇区特别重要，包括：
		* **主引导分区**（Master Boot Record， MBR）
			* 安装引导加载程序的地方，446B
			* 系统开机的时候会主动读取
		* **分区表**（partition table）
			* 记录整块硬盘分区的状态， 64B
			* 分为若干记录区（最多4个），每组记录区记录了该区段的起始与结束的柱面号码

> 所谓的分区只是针对64B的分区表进行设置
> 
> 硬盘默认的分区表仅能写入四组分区信息，这四个分区信息称为**主分区（primary）**或**扩展分区（extended）**
> 
> 扩展分区最多只能有一个
> 
> 分区最小的单位是**柱面**
> 
> 扩展分区继续切分的分区，叫做**逻辑分区**，逻辑分区的设备名称号码由**5**开始，1-4是保留给主分区或者扩展分区使用的，SATA硬盘最多11个逻辑分区（5-15）
> 
> 能够被格式化后作为数据访问的分区为**主分区**与**逻辑分区**，**扩展分区**无法格式化

# 开机流程

* BIOS是开机时计算机系统主动执行的第一个程序
* BIOS会依据用户的设置去取得能够开机的硬盘，并读取该硬盘第一个扇区的MBR，MBR放置着最基本的引导加载程序，剩下的任务由该引导加载程序（Boot Loader）完成
* 引导加载程序目的是**加载内核文件**，剩下的由操作系统完成

### Boot Loader

* 提供菜单：用户可以选择不同的开机选项
* 载入内核文件，开始操作系统
* 转交其他Loader：多重引导

> 引导加载程序可以安装在MBR，也可安装于每个分区的引导扇区（boot sector）

* 每个分区都有启动扇区
* 实际可开机的内核文件是放置在各分区内的
* loader只会认识自己的系统分区内可开机的内核文件和其他loader
* loader可以直接指向或者间接将管理权转交给另一个管理程序

# Linux安装模式下，磁盘分区的选择

> Linux的所有数据都是以文件的形态呈现的
> 
> 目录树结构

## 文件系统与目录树的关系（挂载）

* 挂载
	* 利用一个目录作为进入点，将磁盘分区的数据放置在该目录下
	* 进入点叫做**挂载点**
	
### 安装distributions，挂载点及磁盘分区的规划

* /
* swap
* 预留一个备用的剩余磁盘空间
> 可以把/home、/usr、/boot、/var都单独分区

